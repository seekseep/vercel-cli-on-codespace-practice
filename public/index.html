<html>
    <body>
        <form id="addForm">
            <input type="text" name="content">
            <button type="submit">Create</button>
        </form>
        <div id="placeholder">
            No Tasks
        </div>
        <ul id="list">
        </ul>

        <script>
            const tasks = []

            const placeholder = document.getElementById("placholder")
            const addForm = document.getElementById("addForm")
            const list = document.getElementById("list")

            addForm.addEventListener("submit", (event) => {
                event.preventDefault()

                const form = event.target
                const formData = new FormData(form)
                const content = formData.get("content")
                addTask({ content })
                form.reset()
            })

            function addTask (task) {
                const item = document.createElement("li")
                
                const label = document.createElement("span")
                label.textContent = task.content

                const checkbox = document.createElement("input")
                checkbox.setAttribute("type", "checkbox")
                checkbox.addEventListener("change", (event) => {
                    const done = event.checked
                    updateDone(done)

                    const taskExists = list.childNodes.length > 0
                    if (taskExists) return

                    placeholder.styles.display = 'block'
                    list.styles.display = 'none'
                })


                const removeButton = document.createElement("button")
                removeButton.textContent = "Delete"
                removeButton.addEventListener("click", (event) => {
                    item.remove()

                })

                function updateDone (done) {
                    const textDecoration = done ? "strike" : "normal"
                    const checked = done

                    label.styles.textDecoration = textDecoration
                    checkbox.setAttribute("checked", checkbox)
                }
                placeholder.styles.display = 'none'
                list.styles.display = 'block'
            }
        </script>
    </body>
</html>